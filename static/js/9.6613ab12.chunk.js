(this["webpackJsonpmy-epic"]=this["webpackJsonpmy-epic"]||[]).push([[9],{248:function(e,t,r){"use strict";r.r(t);var n,c,i,a,s,j=r(0),l=r(77),d=r(237),b=r(29),u=r(74),h=r(20),g=r(243),o=r(89),O=r(158),p=r(250),x=r(30),f=r(5),m=x.a.div(n||(n=Object(b.a)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n"]))),v=x.a.h1(c||(c=Object(b.a)(["\n  margin: 20px 0;\n  text-align: center;\n"]))),w=x.a.img(i||(i=Object(b.a)(["\n  max-width: 300px;\n"]))),U=Object(l.a)((function(){var e=Object(u.a)(),t=e.UserStore,r=e.ImgStore,n=g.a.Dragger,c=Object(j.useRef)(),i=Object(j.useRef)(),a=Object(h.d)((function(){return{width:null,setWidth:function(e){a.width=e},get widthStr(){return a.width?"/w/".concat(a.width):""},height:null,setHeight:function(e){a.height=e},get heightStr(){return a.height?"/h/".concat(a.height):""},get thumbnailImgUrl(){return r.serverFile.attributes.url.attributes.url+"?imageView/2"+a.widthStr+a.heightStr+"/q/100/format/png"}}})),s={showUploadList:!1,beforeUpload:function(e){return r.setFile(e),r.setFilename(e.name),null===t.currentUser?(o.b.warning("\u8bf7\u5148\u767b\u9646\u518d\u4e0a\u4f20"),!1):/(png$)|(svg$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(o.b.error("\u6587\u4ef6\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 1M"),!1):(r.upload().then((function(e){o.b.info("\u56fe\u7247\u4e0a\u4f20\u6210\u529f")})).catch((function(e){o.b.error("\u56fe\u7247\u4e0a\u4f20\u5931\u8d25")})),!1):(o.b.error("\u53ea\u80fd\u4e0a\u4f20 svg/png/jpg/gif \u683c\u5f0f\u7684\u56fe\u7247"),!1)}};return Object(f.jsxs)("div",{children:[Object(f.jsx)(O.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:r.isUploading,children:Object(f.jsxs)(n,Object(d.a)(Object(d.a)({},s),{},{children:[Object(f.jsx)("p",{className:"ant-upload-drag-icon",children:Object(f.jsx)(p.a,{})}),Object(f.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(f.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301 .png/.gif/.jpg/.svg \u683c\u5f0f\u56fe\u7247\uff0c\u56fe\u7247\u6700\u5927 1M"})]}))}),r.serverFile?Object(f.jsxs)(m,{children:[Object(f.jsx)(v,{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(f.jsxs)("dl",{children:[Object(f.jsx)("dt",{children:"\u7ebf\u4e0a\u5730\u5740"}),Object(f.jsx)("dd",{children:Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:r.serverFile.attributes.url.attributes.url,children:r.serverFile.attributes.url.attributes.url})}),Object(f.jsx)("dt",{children:"\u6587\u4ef6\u540d"}),Object(f.jsx)("dd",{children:r.filename}),Object(f.jsx)("dt",{children:"\u6587\u4ef6\u9884\u89c8"}),Object(f.jsx)("dd",{children:Object(f.jsx)(w,{src:r.serverFile.attributes.url.attributes.url,alt:"\u52a0\u8f7d\u5931\u8d25"})}),Object(f.jsx)("dt",{children:"\u5c3a\u5bf8"}),Object(f.jsxs)("dd",{children:[Object(f.jsx)("input",{ref:c,onChange:function(){a.setWidth(c.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),Object(f.jsx)("input",{ref:i,onChange:function(){a.setWidth(i.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"})]}),Object(f.jsx)("dd",{children:Object(f.jsx)("a",{target:"_blank",rel:"noreferrer",href:a.thumbnailImgUrl,children:a.thumbnailImgUrl})})]})]}):null]})})),F=x.a.div(a||(a=Object(b.a)(["\n  background: orange;\n  padding: 10px;\n  margin: 10px 0;\n  color: #fff;\n  border-radius: 4px;\n"]))),S=x.a.div(s||(s=Object(b.a)(["\n  background: #0073bf;\n  padding: 10px;\n  margin: 10px 0;\n  color: #fff;\n  border-radius: 4px;\n"]))),k=Object(l.a)((function(){var e=Object(u.a)().UserStore;return Object(f.jsxs)(S,{children:["Hello ",e.currentUser.attributes.username]})})),$=Object(l.a)((function(){var e=Object(u.a)().UserStore;return Object(f.jsx)(f.Fragment,{children:e.currentUser?Object(f.jsx)(k,{}):Object(f.jsx)(F,{children:"\u8bf7\u5148\u767b\u9646\u518d\u4e0a\u4f20 "})})})),I=Object(l.a)((function(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)($,{}),Object(f.jsx)(U,{})]})}));t.default=I}}]);
//# sourceMappingURL=9.6613ab12.chunk.js.map